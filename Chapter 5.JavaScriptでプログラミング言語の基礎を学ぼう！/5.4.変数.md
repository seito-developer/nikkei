# 変数と宣言
変数とは、値を入れておく箱のようなもので、数字や文字列など様々な値を入れることができます。
`const`または`let`というキーワードで宣言することができ、`const {変数名} = {値}`のように左に変数名、右に値を書き、`=`でつなぐことで変数を定義することができます。

```js
const foo = 1;
```

つまり、この例は「`foo`という変数を宣言し、その値を`1`にする」という意味になります。
これをconsole.logで出力すると、`1`という値が出力されます。

```js
console.log(foo); //1
```

## 変数を使う意義
ここまでの説明で、なぜわざわざ変数を使うのか？さっきのように`console.log(1)`と書いてしまえばいいのでは？と思われるかもしれません。
たしかにこれまで紹介したようなコードはとても短いので変数を使う必要性はありません。
しかし、もっと長い複雑なコードを書こうと思った際には、変数を使うことでいくつかのメリットを受けることができます！

### 1.値を単純化できる
変数を使うことで値を単純化したりわかりやすいコードにすることができます。
例えば以下のようなコードを考えてみましょう。

```js
if(new Date().getHours() > 20){
  document.body.style.backgroundColor = "#000";
}
```
これは現在の時間が20時を超えている場合、背景色をブラックにするという意味のコードです。（ダークモードというやつです）
`#000`という値は黒を意味するカラーコードですが、デザイナーでもない限りはこの文字列が黒を意味することを知っている人は少ないでしょう。
これを変数を使って書き換えてみると以下のようになります。
(`new Date()`が何を指すかは後述) 
<!-- TODO:どこで後述するか明記 -->

```js
const colorDark = "#000";
if(new Date().getHours() > 20){
  document.body.style.backgroundColor = colorDark;
}
```
このようにすると、`#000`という値が何を意味しているのかが明確になり意味を推測する手助けになります。

### 2.同じ値を何度も書かなくて済む
変数を使うことで同じ値を何度も書く必要がなくなり、修正が楽になります。
例えば以下のようなコードを考えてみましょう。

```js
if(new Date().getHours() > 20){
  document.body.style.backgroundColor = "#000";
}
if(user.setting.darkMode === true){
  document.body.style.backgroundColor = "#000";
}
```

これは先のコードを拡張したサンプルコードです。
現在の時間が20時を超えている場合背景色をブラックにするという条件に加え、ユーザーが設定によってダークモードを常に指定している場合も背景色をブラックにするという条件を加えました。
しかしこのコードを実装した後で、デザイナーが「やっぱり#000はちょっと暗すぎるな。若干明るめの黒にしたいから、#333に修正して！」と言ってきた場合、このコードを修正するには2箇所の`#000`を修正する必要があります。（このサンプルではわずか2箇所ですが、実際の開発ではもっと多くの箇所を修正することになるでしょう）
こんなとき変数を設定していればどれだけ多くの箇所で`#000`が使われていたとしても、修正箇所は常に1箇所...変数の値を変えるだけで済みます！

```js
const colorDark = "#000"; // ← ここを#333に修正
if(new Date().getHours() > 20){
  document.body.style.backgroundColor = colorDark;
}
if(user.setting.darkMode === true){
  document.body.style.backgroundColor = colorDark;
}
```

いかがでしょう。これで変数を使うメリットが少しはイメージできたでしょうか？
ところでforループなどJSの一部の構文ではそもそも変数を使わないといけないケースもあるので、いずれにせよ変数は必須です。

## const, let
先ほど変数を宣言するには`const`または`let`というキーワードを使うと説明しましたが、この２つには値の再代入（上書きともい）ができる・できないという違いがあります。
`const`は値の再代入ができない変数、`let`は値の再代入ができる変数を定義します。

例えば下記のようなコードを見てみましょう。
```js
const foo = 1;
foo = 2; //1
```

この例では1行目で`foo`という変数を定義し、2行目で`foo`に`2`を代入しています。
しかし`const`で宣言された変数は再代入が不可なので、この結果はエラーになりfooは1のままです。
一方、`let`を使った場合には再代入が可能です。

```js
let foo = 1;
foo = 2; //2
```

このように、変数を定義する際は再代入が必要かどうかを考えて`const`または`let`を使い分けましょう。

### 使い分けの基準
ここまでの説明を聞くと、「だったらとりあえず選択肢の多い`let`を使っておけば間違いないのでは？」と思われるかもしれません。
しかし、実は`const`を使うことを推奨するエンジニアが多いです。
`const`を使うことで値の再代入を防ぐことができ、コードの安全性を高めることができるからです。
実は選択肢は少ないほうがいいのです。あれもこれもできてしまうコードだと、どこでどんな値が代入されているのかわかりにくくなるため読みづらく、エラーが起きやすいコードとなってしまいます。
というわけで、基本的には`const`を使い、再代入が必要な場合に限って`let`を使うようにしましょう！
ちなみに再代入が必要な場面の例としては、forループのカウンタ変数があります。（後述）

### varについて
`var`というキーワードを使って変数を宣言することもできますが、これは`let`と同じように値の再代入が可能な変数を定義します。
（厳密にいうと`let`とは異なる仕様を持っていますが、ここでは詳細は割愛します。）
`var`での変数宣言は以前はよく使われていましたが、現在のJSのバージョンでは`let`と`const`が主流であまり使われません。。

```
【コラム】JSのバージョンについて
厳密にいうと、JSには2014年まで主流だったES5と、2015年以降主流のES6(ES2015ともいう)という2つのバージョンが存在します。
2015年以降は毎年バージョンが更新されており、2023年の段階ではES14(ES2023)が最新バージョンとなっています。
ES6以降のバージョンでは基本的に大きく仕様が変わることはなく、新しい機能が追加されることが多いため、JSを学習する際にはES6以降のバージョンで勉強することをオススメします。本書もES6以降のバージョンで解説しています。

なお、先述の`var`はES5での書き方です。Webブラウザは後方互換性を持っているため、現在でも`var`を使ってコーディングすることは可能ですが、基本的にはES6で追加された`let`と`const`を使うようにしましょう。
```

## 変数の活用例

変数には値を入れるだけでなく、配列やオブジェクト、関数などを入れることもできます。
これらについては後で詳しく解説するので、この部分は読み飛ばしていただいて構いませんが、例えば下記のような書き方が可能です。

```js
// 配列
const array = [1, 2, 3];

// オブジェクト
const obj = {
  foo: 1,
  bar: 2
};

// 関数
const func = () => {
  console.log("Hello World!");
};
```

```
【コラム】予約後に気をつけよう
JSには予約語と呼ばれる特別な意味を持つ単語が存在します。
例えば`const`や`let`、標準組み込み関数など、JSの仕様に初めから定義されているものがそれにあたります。
こうした予約語は変数名や関数名として使用することができず、設定した場合はエラーになります。
```